<!DOCTYPE html>
<!-- 
Template Name:  SmartAdmin Responsive WebApp - Template build with Twitter Bootstrap 4
Version: 4.5.1
Author: Sunnyat A.
Website: http://gootbootstrap.com
Purchase: https://wrapbootstrap.com/theme/smartadmin-responsive-webapp-WB0573SK0?ref=myorange
License: You must have a valid license purchased only from wrapbootstrap.com (link above) in order to legally use this theme for your project.
-->
<html lang="en" class="root-text-sm">
    <head>
        <meta charset="utf-8">
        <title>
            Ordering System
        </title>
        <meta name="description" content="Page Title">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, user-scalable=no, minimal-ui">
        <!-- Call App Mode on ios devices -->
        <meta name="apple-mobile-web-app-capable" content="yes" />
        <!-- Remove Tap Highlight on Windows Phone IE -->
        <meta name="msapplication-tap-highlight" content="no">
        <!-- base css -->
        <link id="vendorsbundle" rel="stylesheet" media="screen, print" href="css/vendors.bundle.css">
        <link id="appbundle" rel="stylesheet" media="screen, print" href="css/app.bundle.css">
        <link id="mytheme" rel="stylesheet" media="screen, print" href="#">
        <link id="myskin" rel="stylesheet" media="screen, print" href="css/skins/skin-master.css">
        <!-- Place favicon.ico in the root directory -->
        <link rel="apple-touch-icon" sizes="180x180" href="img/favicon/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="img/favicon/favicon-32x32.png">
        <link rel="mask-icon" href="img/favicon/safari-pinned-tab.svg" color="#5bbad5">

        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
        <!-- You can add your own stylesheet here to override any styles that comes before it
                <link rel="stylesheet" media="screen, print" href="css/your_styles.css">-->
    </head>
    <!-- BEGIN Body -->
    <!-- Possible Classes

                * 'header-function-fixed'         - header is in a fixed at all times
                * 'nav-function-fixed'            - left panel is fixed
                * 'nav-function-minify'			  - skew nav to maximize space
                * 'nav-function-hidden'           - roll mouse on edge to reveal
                * 'nav-function-top'              - relocate left pane to top
                * 'mod-main-boxed'                - encapsulates to a container
                * 'nav-mobile-push'               - content pushed on menu reveal
                * 'nav-mobile-no-overlay'         - removes mesh on menu reveal
                * 'nav-mobile-slide-out'          - content overlaps menu
                * 'mod-bigger-font'               - content fonts are bigger for readability
                * 'mod-high-contrast'             - 4.5:1 text contrast ratio
                * 'mod-color-blind'               - color vision deficiency
                * 'mod-pace-custom'               - preloader will be inside content
                * 'mod-clean-page-bg'             - adds more whitespace
                * 'mod-hide-nav-icons'            - invisible navigation icons
                * 'mod-disable-animation'         - disables css based animations
                * 'mod-hide-info-card'            - hides info card from left panel
                * 'mod-lean-subheader'            - distinguished page header
                * 'mod-nav-link'                  - clear breakdown of nav links

                >>> more settings are described inside documentation page >>>
    -->
    <body class="mod-bg-1 ">
        <!-- DOC: script to save and load page settings -->
        <script>
            /**
             *	This script should be placed right after the body tag for fast execution 
             *	Note: the script is written in pure javascript and does not depend on thirdparty library
             **/
            'use strict';
            var classHolder = document.getElementsByTagName("BODY")[0],
                    /** 
                     * Load from localstorage
                     **/
                    themeSettings = (localStorage.getItem('themeSettings')) ? JSON.parse(localStorage.getItem('themeSettings')) :
                    {},
                    themeURL = themeSettings.themeURL || '',
                    themeOptions = themeSettings.themeOptions || '';
            /** 
             * Load theme options
             **/
            if (themeSettings.themeOptions)
            {
                classHolder.className = themeSettings.themeOptions;
                console.log("%c✔ Theme settings loaded", "color: #148f32");
            } else
            {
                console.log("%c✔ Heads up! Theme settings is empty or does not exist, loading default settings...", "color: #ed1c24");
            }
            if (themeSettings.themeURL && !document.getElementById('mytheme'))
            {
                var cssfile = document.createElement('link');
                cssfile.id = 'mytheme';
                cssfile.rel = 'stylesheet';
                cssfile.href = themeURL;
                document.getElementsByTagName('head')[0].appendChild(cssfile);
            } else if (themeSettings.themeURL && document.getElementById('mytheme'))
            {
                document.getElementById('mytheme').href = themeSettings.themeURL;
            }
            /** 
             * Save to localstorage 
             **/
            var saveSettings = function ()
            {
                themeSettings.themeOptions = String(classHolder.className).split(/[^\w-]+/).filter(function (item)
                {
                    return /^(nav|header|footer|mod|display)-/i.test(item);
                }).join(' ');
                if (document.getElementById('mytheme'))
                {
                    themeSettings.themeURL = document.getElementById('mytheme').getAttribute("href");
                }
                ;
                localStorage.setItem('themeSettings', JSON.stringify(themeSettings));
            }
            /** 
             * Reset settings
             **/
            var resetSettings = function ()
            {
                localStorage.setItem("themeSettings", "");
            }

        </script>


        <!-- BEGIN Page Wrapper -->
        <div class="page-wrapper">
            <div class="page-inner">

                <!-- BEGIN Left Aside -->
                <aside class="page-sidebar">
                    <div class="page-logo">
                        <a href="#" class="page-logo-link press-scale-down d-flex align-items-center position-relative" onclick="getAllProducts()">
                            <img src="img/logo.png" alt="SmartAdmin WebApp">
                            <span class="page-logo-text mr-1">Mhiken Dave Ordering System</span>s
                            <span class="position-absolute text-white opacity-50 small pos-top pos-right mr-2 mt-n2"></span>
                            <!--<i class="fal fa-angle-down d-inline-block ml-1 fs-lg color-primary-300"></i>-->
                        </a>
                    </div>

                    <!-- BEGIN PRIMARY NAVIGATION -->
                    <nav id="js-primary-nav" class="primary-nav" role="navigation">
                        <div class="nav-filter">
                            <div class="position-relative">
                                <input type="text" id="nav_filter_input" placeholder="Filter menu" class="form-control" tabindex="0">
                                <a href="#" onclick="return false;" class="btn-primary btn-search-close js-waves-off" data-action="toggle" data-class="list-filter-active" data-target=".page-sidebar">
                                    <i class="fal fa-chevron-up"></i>
                                </a>
                            </div>
                        </div>
                        <div class="info-card">
                            <img src="img/card-backgrounds/cover-2-lg.png" class="cover" alt="cover">
                            <a href="#" onclick="return false;" class="pull-trigger-btn" data-action="toggle" data-class="list-filter-active" data-target=".page-sidebar" data-focus="nav_filter_input">
                                <i class="fal fa-angle-down"></i>
                            </a>
                        </div>
                        <!-- 
                                                TIP: The menu items are not auto translated. You must have a residing lang file associated with the menu saved inside dist/media/data with reference to each 'data-i18n' attribute.
                        -->
                        <ul id="js-nav-menu" class="nav-menu categories">
                            <li class="nav-title">Categories</li>
                        </ul>
                        <div class="filter-message js-filter-message bg-success-600"></div>
                    </nav>
                    <!-- END PRIMARY NAVIGATION -->
                </aside>
                <!-- END Left Aside -->

                <div class="page-content-wrapper">

                    <!-- BEGIN Page Header -->
                    <header class="page-header" role="banner">
                        <!-- we need this logo when user switches to nav-function-top -->
                        <div class="page-logo">
                            <a href="#" class="page-logo-link press-scale-down d-flex align-items-center position-relative" data-toggle="modal" data-target="#modal-shortcut">
                                <img src="img/logo.png" alt="SmartAdmin WebApp" aria-roledescription="logo">
                                <span class="page-logo-text mr-1">SmartAdmin WebApp</span>
                                <span class="position-absolute text-white opacity-50 small pos-top pos-right mr-2 mt-n2"></span>
                                <i class="fal fa-angle-down d-inline-block ml-1 fs-lg color-primary-300"></i>
                            </a>
                        </div>

                        <!-- DOC: mobile button appears during mobile width -->
                        <div class="hidden-lg-up">
                            <a href="#" class="header-btn btn press-scale-down" data-action="toggle" data-class="mobile-nav-on">
                                <i class="ni ni-menu"></i>
                            </a>
                        </div>

                        <div class="ml-auto d-flex">

                            <!-- app notification -->
                            <div>
                                <a href="#" class="header-icon" onclick="showYourCartModal();">
                                    <i class="fa fa-cart-plus"></i>
                                    <span class="badge badge-icon" id="notif_cart">0</span>
                                </a>

                            </div>
                        </div>
                    </header>
                    <!-- END Page Header -->

                    <!-- BEGIN Page Content -->
                    <!-- the #js-page-content id is needed for some plugins to initialize -->
                    <main id="js-page-content" role="main" class="page-content">

                        <div class="subheader">
                            <h1 class="subheader-title">
                                <i class='subheader-icon fal fa-globe'></i> 
                                Products
                            </h1>
                        </div>

                        <!-- Your main content goes below here: -->
                        <div class="row" id="products">
                            <div class="col-lg-3">
                                <div class="card border m-auto m-lg-0" style="max-width: 18rem;">
                                    <img src="img/card-backgrounds/cover-3-lg.png" class="card-img-top" alt="...">                                  
                                    <ul class="list-group list-group-flush">
                                        <li class="list-group-item">Toyo</li>
                                        <li class="list-group-item">Price  <span class="pull-right">15</span></li>
                                    </ul>
                                    <div class="card-body">
                                        <a href="#" class="card-link" data-toggle="modal" data-target=".buy-now-modal">Buy Now</a>
                                        <a href="#" class="card-link" data-toggle="modal" data-target=".add-to-cart-modal">Add to Cart</a>
                                    </div>
                                </div>
                            </div>                   
                        </div>
                    </main>
                    <!-- this overlay is activated only when mobile menu is triggered -->
                    <div class="page-content-overlay" data-action="toggle" data-class="mobile-nav-on"></div> 
                    <!-- END Page Content -->

                    <!-- BEGIN Page Footer -->
                    <footer class="page-footer" role="contentinfo">
                        <div class="d-flex align-items-center flex-1 text-muted">
                            <span class="hidden-md-down fw-700">Footer</span>
                        </div>
                    </footer>
                    <!-- END Page Footer -->

                    <!-- BEGIN Modal Area -->
                    <!-- Buy Now -->
                    <div class="modal fade buy-now-modal" tabindex="-1" role="dialog" aria-hidden="true">
                        <div class="modal-dialog modal-dialog-right modal-sm">
                            <div class="modal-content">
                                <div class="modal-header" style="border-bottom: solid black 1px;">
                                    <h5 class="modal-title h4">Buy Now!</h5>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true"><i class="fal fa-times"></i></span>
                                    </button>                                   
                                </div>
                                <form novalidate="">
                                    <div class="modal-body">
                                        <h4 class="mb-g" style="font-weight: 600;">
                                            <i class="fal fa-user fa-fw"></i>
                                            Personal Information
                                        </h4>
                                        <div class="form-group">
                                            <label>Name</label>
                                            <input type="text" class="form-control">
                                        </div>
                                        <div class="form-group">
                                            <label>Phone Number</label>
                                            <input type="text" class="form-control">
                                        </div>
                                        <div class="form-group">
                                            <label>Email</label>
                                            <input type="email" class="form-control">
                                        </div>
                                        <div class="form-group">
                                            <label>Address</label>
                                            <input type="text" class="form-control">
                                        </div>

                                        <h4 class="mb-g" style="font-weight: 600;">
                                            <i class="fal fa-plus fa-fw"></i>
                                            Product Details
                                        </h4>
                                        <div class="form-group">
                                            <label>Product Name</label>
                                            <input type="text" class="form-control" value="" readonly="" id="product_name_field">
                                        </div>
                                        <div class="form-group">
                                            <label>Quantity</label>
                                            <input type="number" class="form-control">
                                        </div>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-secondary" onclick="showCheckOutModal(0, 'Cash on Delivery');">Cash on Delivery</button>
                                        <button type="button" class="btn btn-primary" onclick="showCheckOutModal(1, 'Pick Up');">Pick Up</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>

                    <!-- Add to Cart -->
                    <div class="modal fade add-to-cart-modal" tabindex="-1" role="dialog" aria-hidden="true">
                        <div class="modal-dialog modal-dialog-right modal-sm">
                            <div class="modal-content">
                                <div class="modal-header" style="border-bottom: solid black 1px;">
                                    <h5 class="modal-title h4">Add to Cart!</h5>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true"><i class="fal fa-times"></i></span>
                                    </button>                                   
                                </div>
                                <form novalidate="">
                                    <div class="modal-body p-0">
                                        <img class="card-img-top" id="product_photo">     
                                        <ul class="list-group list-group-flush">
                                            <li class="list-group-item" id="cart_pn_text"></li>
                                            <li class="list-group-item">Price <span id="cart_pr_text" class="pull-right"></span></li>
                                            <li class="list-group-item">
                                                <label>Quantity</label>
                                                <input type="number" class="form-control" min="0" id="quantity">
                                            </li>
                                        </ul>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-primary" onclick="addToCartSession();">Add to Cart</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>

                    <!-- Your Cart -->
                    <div class="modal fade your-cart-modal" tabindex="-1" role="dialog" aria-hidden="true">
                        <div class="modal-dialog modal-dialog-right modal-sm">
                            <div class="modal-content">
                                <div class="modal-header" style="border-bottom: solid black 1px;">
                                    <h5 class="modal-title h4">Buy Now!</h5>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true"><i class="fal fa-times"></i></span>
                                    </button>                                   
                                </div>
                                <form novalidate="">
                                    <div class="modal-body">
                                        <h4 class="mb-g" style="font-weight: 600;">
                                            <i class="fal fa-user fa-fw"></i>
                                            Personal Information
                                        </h4>
                                        <div class="form-group">
                                            <label>Name</label>
                                            <input type="text" class="form-control">
                                        </div>
                                        <div class="form-group">
                                            <label>Phone Number</label>
                                            <input type="text" class="form-control">
                                        </div>
                                        <div class="form-group">
                                            <label>Email</label>
                                            <input type="email" class="form-control">
                                        </div>
                                        <div class="form-group">
                                            <label>Address</label>
                                            <input type="text" class="form-control">
                                        </div>

                                        <h4 class="mb-g" style="font-weight: 600;">
                                            <i class="fal fa-plus fa-fw"></i>
                                            Product Details
                                        </h4>
                                        <div class="row form-group" id="order_products"></div>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-secondary" onclick="showCheckOutModal(0, 'Cash on Delivery');">Cash on Delivery</button>
                                        <button type="button" class="btn btn-primary" onclick="showCheckOutModal(1, 'Pick Up');">Pick Up</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>

                    <!-- Check Out -->
                    <div class="modal fade check-out-modal" tabindex="-1" role="dialog" aria-hidden="true">
                        <div class="modal-dialog modal-dialog-right modal-sm">
                            <div class="modal-content">
                                <div class="modal-header" style="border-bottom: solid black 1px;">
                                    <h5 class="modal-title h4">Ordered!</h5>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true"><i class="fal fa-times"></i></span>
                                    </button>                                   
                                </div>
                                <form novalidate="">
                                    <div class="modal-body p-0">

                                        <table class="table">
                                            <thead>
                                                <tr>
                                                    <th colspan="2">Payment Method: <span id="payment_method"></span></th>
                                                </tr>
                                                <tr>
                                                    <th style="width: 80%">Items</th>
                                                    <th>Price</th>
                                                </tr>
                                            </thead>
                                            <tbody id="receipt_order"></tbody>
                                        </table>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-primary">Check Out</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                    <!-- End Modal Area -->

                    <!-- BEGIN Color profile -->
                    <!-- this area is hidden and will not be seen on screens or screen readers -->
                    <!-- we use this only for CSS color refernce for JS stuff -->
                    <p id="js-color-profile" class="d-none">
                        <span class="color-primary-50"></span>
                        <span class="color-primary-100"></span>
                        <span class="color-primary-200"></span>
                        <span class="color-primary-300"></span>
                        <span class="color-primary-400"></span>
                        <span class="color-primary-500"></span>
                        <span class="color-primary-600"></span>
                        <span class="color-primary-700"></span>
                        <span class="color-primary-800"></span>
                        <span class="color-primary-900"></span>
                        <span class="color-info-50"></span>
                        <span class="color-info-100"></span>
                        <span class="color-info-200"></span>
                        <span class="color-info-300"></span>
                        <span class="color-info-400"></span>
                        <span class="color-info-500"></span>
                        <span class="color-info-600"></span>
                        <span class="color-info-700"></span>
                        <span class="color-info-800"></span>
                        <span class="color-info-900"></span>
                        <span class="color-danger-50"></span>
                        <span class="color-danger-100"></span>
                        <span class="color-danger-200"></span>
                        <span class="color-danger-300"></span>
                        <span class="color-danger-400"></span>
                        <span class="color-danger-500"></span>
                        <span class="color-danger-600"></span>
                        <span class="color-danger-700"></span>
                        <span class="color-danger-800"></span>
                        <span class="color-danger-900"></span>
                        <span class="color-warning-50"></span>
                        <span class="color-warning-100"></span>
                        <span class="color-warning-200"></span>
                        <span class="color-warning-300"></span>
                        <span class="color-warning-400"></span>
                        <span class="color-warning-500"></span>
                        <span class="color-warning-600"></span>
                        <span class="color-warning-700"></span>
                        <span class="color-warning-800"></span>
                        <span class="color-warning-900"></span>
                        <span class="color-success-50"></span>
                        <span class="color-success-100"></span>
                        <span class="color-success-200"></span>
                        <span class="color-success-300"></span>
                        <span class="color-success-400"></span>
                        <span class="color-success-500"></span>
                        <span class="color-success-600"></span>
                        <span class="color-success-700"></span>
                        <span class="color-success-800"></span>
                        <span class="color-success-900"></span>
                        <span class="color-fusion-50"></span>
                        <span class="color-fusion-100"></span>
                        <span class="color-fusion-200"></span>
                        <span class="color-fusion-300"></span>
                        <span class="color-fusion-400"></span>
                        <span class="color-fusion-500"></span>
                        <span class="color-fusion-600"></span>
                        <span class="color-fusion-700"></span>
                        <span class="color-fusion-800"></span>
                        <span class="color-fusion-900"></span>
                    </p>
                    <!-- END Color profile -->
                </div>
            </div>
        </div>
        <!-- END Page Wrapper -->
        <!-- BEGIN Quick Menu -->
        <!-- to add more items, please make sure to change the variable '$menu-items: number;' in your _page-components-shortcut.scss -->
        <nav class="shortcut-menu d-none d-sm-block">
            <input type="checkbox" class="menu-open" name="menu-open" id="menu_open" />
            <label for="menu_open" class="menu-open-button ">
                <span class="app-shortcut-icon d-block"></span>
            </label>
            <a href="#" class="menu-item btn" data-toggle="tooltip" data-placement="left" title="Scroll Top">
                <i class="fal fa-arrow-up"></i>
            </a>
            <a href="#" class="menu-item btn" data-action="app-fullscreen" data-toggle="tooltip" data-placement="left" title="Full Screen">
                <i class="fal fa-expand"></i>
            </a>
        </nav>
        <!-- END Quick Menu -->


        <script src="js/vendors.bundle.js"></script>
        <script src="js/app.bundle.js"></script>
        <script type="text/javascript">
                                            $(function () {

//                                                sessionStorage.clear();
                                                getAllProducts();
                                                getCategories();
                                                var notifCart = Object.keys(sessionStorage).length;

                                                $('#notif_cart').text(notifCart);
                                            });

                                            function getCategories() {

                                                $.ajax({
                                                    url: 'http://localhost/ordering-api/index.php?r=site/categories',
                                                    type: 'POST',
                                                    success: function (res) {
                                                        var response = JSON.parse(res);
                                                        for (var i = 0; i < response.data.length; i++) {

                                                            var idName = response.data[i]['category'].replaceAll(' ', '_');
                                                            $('.categories').append('<li id="li_' + idName.toLowerCase() + '" class="">' +
                                                                    '<a href="#" title="' + response.data[i]['category'] + '" id="' + idName.toLowerCase() + '" data-filter-tags="' + response.data[i]['category'].toLowerCase() + '" onclick="getProducts(this)">' +
                                                                    '<span class="nav-link-text" data-i18n="nav.blankpage">' + response.data[i]['category'] + '</span>' +
                                                                    '</a>' +
                                                                    '</li>');
                                                        }

                                                    },
                                                    error: function (error) {
                                                        console.log("Internal Code Error.");
                                                    }
                                                });
                                            }

                                            function getProducts(data) {

                                                $.ajax({
                                                    url: 'http://localhost/ordering-api/index.php?r=site/products',
                                                    type: 'GET',
                                                    data: {'category_name': data.title},
                                                    beforeSend: function () {
                                                        $('#products').html('');
                                                    },
                                                    success: function (res) {

                                                        var response = JSON.parse(res);

                                                        if (response.data.length === 0) {
                                                            $('#products').append('<div class="col-lg-12 mb-g"><div class="alert alert-warning">No products available.</div></div>');
                                                        }

                                                        for (var i = 0; i < response.data.length; i++) {

                                                            $('#products').append('<div class="col-lg-3 mb-g">' +
                                                                    '<div class="card border m-auto m-lg-0" style="max-width: 18rem;">' +
                                                                    '<img class="card-img-top" alt="' + response.data[i]['description'] + '" id="product_photo_' + response.data[i]['id'] + '">' +
                                                                    '<ul class="list-group list-group-flush">' +
                                                                    '<li class="list-group-item" id="product_name_' + response.data[i]['id'] + '">' + response.data[i]['description'] + '</li>' +
                                                                    '<li class="list-group-item">Price <span id="product_price' + response.data[i]['id'] + '" class="pull-right">₱ ' + response.data[i]['price'] + '</span></li>' +
                                                                    '</ul>' +
                                                                    '<div class="card-body">' +
                                                                    '<a href="#" class="card-link" onclick=\"showBuyNowModal(' + response.data[i]['id'] + ');\">Buy Now</a>' +
                                                                    '<a href="#" class="card-link" onclick=\"showAddToCartModal(' + response.data[i]['id'] + ');\">Add to Cart</a>' +
                                                                    ' </div>' +
                                                                    ' </div>' +
                                                                    '</div>');

                                                            getProductPhoto(response.data[i]['id'], 0);
                                                        }

                                                    },
                                                    error: function (error) {
                                                        console.log(error);
                                                    }
                                                });
                                            }

                                            function getAllProducts() {

                                                $.ajax({
                                                    url: 'http://localhost/ordering-api/index.php?r=site/allProducts',
                                                    type: 'POST',
                                                    beforeSend: function () {
                                                        $('#products').html('');
                                                    },
                                                    success: function (res) {

                                                        var response = JSON.parse(res);
                                                        for (var i = 0; i < response.data.length; i++) {

                                                            $('#products').append('<div class="col-lg-3 mb-g">' +
                                                                    '<div class="card border m-auto m-lg-0" style="max-width: 18rem;">' +
                                                                    '<img class="card-img-top" alt="' + response.data[i]['description'] + '" id="product_photo_' + response.data[i]['id'] + '">      ' +
                                                                    '<ul class="list-group list-group-flush">' +
                                                                    '<li class="list-group-item" id="product_name_' + response.data[i]['id'] + '">' + response.data[i]['description'] + '</li>' +
                                                                    '<li class="list-group-item">Price <span id="product_price' + response.data[i]['id'] + '" class="pull-right">₱ ' + response.data[i]['price'] + '</span></li>' +
                                                                    '</ul>' +
                                                                    ' <div class="card-body">' +
                                                                    '<a href="#" class="card-link" onclick=\"showBuyNowModal(' + response.data[i]['id'] + ');\">Buy Now</a>' +
                                                                    '<a href="#" class="card-link" onclick=\"showAddToCartModal(' + response.data[i]['id'] + ');\">Add to Cart</a>' +
                                                                    ' </div>' +
                                                                    ' </div>' +
                                                                    '</div>');

                                                            getProductPhoto(response.data[i]['id'], 0);
                                                        }

                                                    },
                                                    error: function (error) {
                                                        console.log(error);
                                                    }
                                                });
                                            }

                                            function getProductPhoto(id, num) {

                                                $.ajax({
                                                    async: false,
                                                    url: 'http://localhost/ordering-api/index.php?r=site/productPhoto',
                                                    type: 'POST',
                                                    data: {'product_id': id},
                                                    beforeSend: function () {
                                                        // $('#products').html('');
                                                    },
                                                    success: function (data) {
                                                        if (num === 0) {
                                                            $('#product_photo_' + id).attr('src', 'data:image/jpg;base64,' + data);
                                                        } else {
                                                            $('#product_photo').attr('src', 'data:image/jpg;base64,' + data);
                                                        }

                                                    },
                                                    error: function (error) {
                                                        console.log('error');
                                                    }
                                                });
                                            }

                                            function showBuyNowModal(id) {
                                                var productName = $('#product_name_' + id).text();
                                                $('#product_name_field').val(productName);
                                                $('.buy-now-modal').modal('show');
                                                console.log(productName);
                                            }

                                            function showAddToCartModal(id) {
                                                var productName = $('#product_name_' + id).text();
                                                var productPrice = $('#product_price' + id).text();

                                                getProductPhoto(id, 1);

                                                $('#cart_pn_text').text(productName);
                                                $('#cart_pr_text').text(productPrice);
                                                $('.add-to-cart-modal').modal('show');
                                            }

                                            function showCheckOutModal(num, paymentMethod) {
                                                $('#payment_method').text(paymentMethod);
                                                $('#receipt_order').html('');
                                                var totalAmount = 0;
                                                for (var i = 0; i < Object.keys(sessionStorage).length; i++) {

                                                    var fieldName = Object.keys(sessionStorage)[i];
                                                    var fieldValue = sessionStorage.getItem(fieldName);

                                                    var matches = fieldName.match(/(\d+)/);
                                                    if (matches !== null) {
                                                        var fn = fieldName.replaceAll('_', ' ').replaceAll(matches[0], '');

                                                    }

                                                    console.log('Field Name: ' + fieldName + '\nField Value: ' + fieldValue);

                                                    $('#receipt_order').append('<tr>' +
                                                            '<td>' + fn + ' <br />Quantity</td>' +
                                                            '<td>' + matches[0] + ' <br /> x' + fieldValue + '</td>' +
                                                            '</tr>');

                                                    var amt = parseInt(matches[0]) * parseInt(fieldValue);
                                                    var totalAmount = totalAmount + amt;

                                                }

                                                if (num === 0) {
                                                    $('#receipt_order').append('<tr>' +
                                                            '<td>Delivery Charge: </td>' +
                                                            '<td>50</td>' +
                                                            '</tr>');

                                                    $('#receipt_order').append('<tr>' +
                                                            '<td>Total Amount: </td>' +
                                                            '<td>' + totalAmount + '</td>' +
                                                            '</tr>');
                                                }


                                                $('.check-out-modal').modal('show');
                                            }

                                            function addToCartSession() {
                                                var pn = $('#cart_pn_text').text();
                                                var pr = $('#cart_pr_text').text();
                                                var qty = $('#quantity').val();
                                                var matches = pr.match(/(\d+)/);

                                                setSession(pn.replaceAll(' ', '_') + '_' + matches[0], qty);

                                                var notifCart = Object.keys(sessionStorage).length;
                                                $('#notif_cart').text(notifCart);

                                                $('.add-to-cart-modal').modal('hide');
                                            }

                                            function showYourCartModal() {
                                                var notifCart = Object.keys(sessionStorage).length;
                                                if (notifCart !== 0) {
                                                    $('#order_products').html('');
                                                    for (var i = 0; i < Object.keys(sessionStorage).length; i++) {

                                                        var fieldName = Object.keys(sessionStorage)[i];
                                                        var fieldValue = sessionStorage.getItem(fieldName);

                                                        var matches = fieldName.match(/(\d+)/);
                                                        if (matches !== null) {
                                                            var fn = fieldName.replaceAll('_', ' ').replaceAll(matches[0], '');
//                                                            pn.replaceAll(' ', '_') + '_' + matches[0]
                                                        }

                                                        console.log('Field Name : ' + fieldName + '\nField Value: ' + fieldValue);

                                                        $('#order_products').append(' <div class="col-lg-7">' +
                                                                '<label>Product Name</label>' +
                                                                '<input type="text" class="form-control" value="' + fn + '" readonly="">' +
                                                                '</div>' +
                                                                '<div class="col-lg-5">' +
                                                                '<label>Quantity</label>' +
                                                                '<input type="number" class="form-control" value="' + fieldValue + '" id="' + fieldName + '" onkeyup="setSession(this);\">' +
                                                                '</div>');

                                                    }

                                                    $('.your-cart-modal').modal('show');
                                                }
                                            }

                                            function setSession(data) {
                                                sessionStorage.setItem(data.id, data.value);
                                            }


        </script>
    </body>
    <!-- END Body -->
</html>
